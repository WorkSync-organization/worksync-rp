<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WorkSync - Cadastro de Usuário</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Tilt+Warp&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="logo-container">
      <img src="/assets/logo.svg" alt="WorkSync" class="logo" />
    </div>
    <div class="main-box">
      <h2>Seja bem-vindo (a)!</h2>
      <p>Crie sua conta para começar a usar o WorkSync.</p>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="input-group">
          <input type="text" formControlName="name" placeholder="Nome" />
          <span class="material-icons">person</span>
        </div>
        <div *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched" class="error">
          O nome é obrigatório.
        </div>

        <div class="input-group">
          <input type="email" formControlName="email" placeholder="E-mail" />
          <span class="material-icons">mail</span>
        </div>
        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error">
          E-mail inválido.
        </div>

        <div class="input-group">
          <input type="password" formControlName="password" placeholder="Senha" />
          <span class="material-icons">lock</span>
        </div>
        <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error">
          A senha deve ter pelo menos 6 caracteres.
        </div>

        <div class="input-group">
          <input type="password" formControlName="confirmPassword" placeholder="Confirmar Senha" />
          <span class="material-icons">lock</span>
        </div>
        <div *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched" class="error">
          As senhas não coincidem.
        </div>

        <div class="input-group">
          <select name="tipoUsuario" class="user-select" formControlName="role">
            <option value="USER">Usuário</option>
            <option value="ADMIN">Administrador</option>
          </select>
          <span class="material-icons">supervisor_account</span>
        </div>

        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
        <button type="submit" class="register-btn" [disabled]="registerForm.invalid">Cadastrar</button>
      </form>
      <p>Já tem uma conta? <a href="/login">Faça login</a></p>
    </div>
  </div>

  <div class="wave-container">
    <svg viewBox="0 0 1440 320" class="wave">
      <path fill="#a4c7f2" fill-opacity="0.5" d="M0,96L48,101.3C96,107,192,117,288,138.7C384,160,480,192,576,170.7C672,149,768,75,864,53.3C960,32,1056,64,1152,85.3C1248,107,1344,117,1392,122.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
      <path fill="#8a7cfa" fill-opacity="0.6" d="M0,192L48,176C96,160,192,128,288,138.7C384,149,480,203,576,213.3C672,224,768,192,864,181.3C960,171,1056,181,1152,192C1248,203,1344,213,1392,218.7L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
      <path fill="#6F27FE" fill-opacity="0.7" d="M0,256L48,250.7C96,245,192,235,288,213.3C384,192,480,160,576,165.3C672,171,768,213,864,218.7C960,224,1056,192,1152,170.7C1248,149,1344,139,1392,133.3L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
    </svg>
  </div>
</body>
</html>
